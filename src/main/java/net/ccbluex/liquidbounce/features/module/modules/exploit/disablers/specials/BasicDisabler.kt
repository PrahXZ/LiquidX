package net.ccbluex.liquidbounce.features.module.modules.exploit.disablers.specials

import net.ccbluex.liquidbounce.event.PacketEvent
import net.ccbluex.liquidbounce.features.module.modules.exploit.disablers.DisablerMode
import net.ccbluex.liquidbounce.features.value.*
import net.minecraft.network.play.client.C00PacketKeepAlive
import net.minecraft.network.play.client.C03PacketPlayer
import net.minecraft.network.play.client.C0APacketAnimation
import net.minecraft.network.play.client.C0BPacketEntityAction
import net.minecraft.network.play.client.C0EPacketClickWindow
import net.minecraft.network.play.client.C0FPacketConfirmTransaction

class BasicDisabler : DisablerMode("Basic") {

    var C0F = BoolValue("CancelCOF", false)
    var C0FUid = BoolValue("COF-UID", false).displayable { C0F.get() }
    val C0FUidMultiplier = IntegerValue("C0F-Multiplier", -1, -100, 100).displayable { C0FUid.get() }
    var C0A = BoolValue("CancelC0A", false)
    var C0B = BoolValue ("CancelC0B", false)
    var C00 = BoolValue ("CancelC00-KeepAlive", false)
    var C03 = BoolValue ("CancelC03", false)
    var C0E = BoolValue ("CancelC0E", false)
    override fun onPacket(event: PacketEvent) {
        val packet = event.packet
        if (C0F.get() && packet is C0FPacketConfirmTransaction) {
            event.cancelEvent()
            disabler.debugMessage("C0F Cancelled")
        }
        if (C0FUid.get() && packet is C0FPacketConfirmTransaction) {
            packet.getUid()*C0FUidMultiplier.get()
            disabler.debugMessage("COF Uid: ${packet.getUid()}")
        }
        if (C0A.get() && packet is C0APacketAnimation) {
            event.cancelEvent()
            disabler.debugMessage("C0A Cancelled")
        }
        if (C0B.get() && packet is C0BPacketEntityAction) {
            event.cancelEvent()
            disabler.debugMessage("C0B Cancelled")
        }
        if  (C00.get() && packet is C00PacketKeepAlive) {
            event.cancelEvent()
            disabler.debugMessage("C00 Cancelled")
        }
        if (C03.get() && packet is C03PacketPlayer) {
            event.cancelEvent()
            disabler.debugMessage("C03 Cancelled")
        }
        if (C0E.get() && packet is C0EPacketClickWindow) {
            event.cancelEvent()
        }
        disabler.debugMessage("C0E Cancelled")
    }
}
